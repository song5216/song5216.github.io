{{- $related := site.RegularPages.Related . | first 3 }}
{{- if $related }}
<div class="related-posts" style="margin-top: 2rem; padding-top: 2rem; border-top: 1px solid var(--border-color);">
  <h3 style="font-size: 1.25rem; font-weight: 600; margin-bottom: 1rem; color: var(--text-primary);">相关文章</h3>
  <div class="related-posts-list" style="display: grid; grid-template-columns: repeat(auto-fill, minmax(250px, 1fr)); gap: 1rem;">
    {{- range $related }}
    <article class="related-post-card" style="padding: 1rem; background: var(--card-bg); border-radius: 8px; border: 1px solid var(--border-color); transition: all 0.3s;">
      <a href="{{ .Permalink }}" style="text-decoration: none; color: inherit;">
        <h4 style="font-size: 1rem; font-weight: 600; margin: 0 0 0.5rem 0; color: var(--text-primary);">
          {{ .Title }}
        </h4>
        {{- if .Description }}
        <p style="font-size: 0.875rem; color: var(--text-secondary); margin: 0; line-height: 1.5;">
          {{ .Description | truncate 100 }}
        </p>
        {{- end }}
        <div style="font-size: 0.75rem; color: var(--text-secondary); margin-top: 0.5rem;">
          {{ .Date.Format "2006-01-02" }}
        </div>
      </a>
    </article>
    {{- end }}
  </div>
</div>
{{- end }}
